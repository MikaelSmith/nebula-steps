# This file is automatically generated by the Nebula SDK. DO NOT EDIT.

FROM alpine:3
RUN set -eux ; \
    mkdir -p /tmp/ni && \
    cd /tmp/ni && \
    wget https://packages.nebula.puppet.net/sdk/ni/v1/ni-v1-linux-amd64.tar.xz && \
    wget https://packages.nebula.puppet.net/sdk/ni/v1/ni-v1-linux-amd64.tar.xz.sha256 && \
    echo "$( cat ni-v1-linux-amd64.tar.xz.sha256 )  ni-v1-linux-amd64.tar.xz" | sha256sum -c - && \
    tar -xvJf ni-v1-linux-amd64.tar.xz && \
    mv ni-v1*-linux-amd64 /usr/local/bin/ni && \
    cd - && \
    rm -fr /tmp/ni
RUN apk --no-cache add bash ca-certificates curl git jq openssh && update-ca-certificates
RUN ["/bin/bash", "-c", "set -eux\nmkdir -p /tmp/ecs-cli \u0026\u0026 \\\n  cd /tmp/ecs-cli \u0026\u0026 \\\n  curl -L -o ecs-cli https://amazon-ecs-cli.s3.amazonaws.com/ecs-cli-linux-amd64-latest \u0026\u0026 \\\n  echo \"$( curl -sL https://amazon-ecs-cli.s3.amazonaws.com/ecs-cli-linux-amd64-latest.md5 )  ecs-cli\" | md5sum -c - \u0026\u0026 \\\n  chmod +x ecs-cli \u0026\u0026 \\\n  mv ecs-cli /usr/local/bin/ecs-cli \u0026\u0026 \\\n  cd - \u0026\u0026 \\\n  rm -fr /tmp/ecs-cli\n"]
COPY "./step.sh" "/nebula/step-ecs-deployer.sh"
CMD ["/bin/bash", "/nebula/step-ecs-deployer.sh"]

LABEL "org.opencontainers.image.title"="AWS ECS deployer"
LABEL "org.opencontainers.image.description"="The ECS deployer task deploys containers to Elastic Container Service (ECS) clusters in AWS."
LABEL "com.puppet.nebula.sdk.version"="v1"
